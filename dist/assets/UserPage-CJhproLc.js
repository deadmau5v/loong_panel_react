import{C as c,u as s,j as n}from"./index-DCRMDEnN.js";import{r as a}from"./react-dom-B_KBoKIY.js";import{C as l}from"./index-DKI7GbiO.js";import{B as u}from"./button-DEnRpW9g.js";import"./index-CDqw0lfA.js";function d(){const o=document.cookie.split(";");for(let t=0;t<o.length;t++){const e=o[t],i=e.indexOf("="),r=i>-1?e.substr(0,i):e;document.cookie=r+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/"}}function m(){const o=a.useContext(c),t=(o==null?void 0:o.API_URL)+"/api/v1/auth/logout",{setLogined:e}=s();return n.jsx("div",{children:n.jsx(l,{title:"Logout",children:n.jsx(u,{onClick:async()=>{await fetch(t,{method:"POST",headers:{Authorization:localStorage.getItem("SESSION")||""}}),e(!1),document.cookie="",localStorage.clear(),d(),window.location.href="/"},children:"退出登录"})})})}function C(){const{logined:o}=s();return o||(window.location.href="/login"),n.jsx(m,{})}export{C as default};
