import{f as L,g as l,b as p,c as q,h as E,i as R,j as e,k as W,l as A,e as D,T as O}from"./index-DCRMDEnN.js";import{r as S}from"./react-dom-B_KBoKIY.js";import{P as _}from"./index-Ctq1ZWD9.js";import{W as f}from"./index-DnOj4hun.js";import{P as H}from"./ProCard-Dqfv741k.js";import"./index-CmozH8WR.js";import"./FileOutlined-l9Qrf-hC.js";import"./button-DEnRpW9g.js";import"./index-CDqw0lfA.js";import"./progress-Cp_dByrN.js";import"./index-BvlifVVu.js";import"./index-CoWpGy66.js";var K=function(n){return p(p({},n.componentCls,{"&-container":{display:"flex",flex:"1",flexDirection:"column",height:"100%",paddingInline:32,paddingBlock:24,overflow:"auto",background:"inherit"},"&-top":{textAlign:"center"},"&-header":{display:"flex",alignItems:"center",justifyContent:"center",height:"44px",lineHeight:"44px",a:{textDecoration:"none"}},"&-title":{position:"relative",insetBlockStart:"2px",color:"@heading-color",fontWeight:"600",fontSize:"33px"},"&-logo":{width:"44px",height:"44px",marginInlineEnd:"16px",verticalAlign:"top",img:{width:"100%"}},"&-desc":{marginBlockStart:"12px",marginBlockEnd:"40px",color:n.colorTextSecondary,fontSize:n.fontSize},"&-main":{minWidth:"328px",maxWidth:"580px",margin:"0 auto","&-other":{marginBlockStart:"24px",lineHeight:"22px",textAlign:"start"}}}),"@media (min-width: @screen-md-min)",p({},"".concat(n.componentCls,"-container"),{paddingInline:0,paddingBlockStart:32,paddingBlockEnd:24,backgroundRepeat:"no-repeat",backgroundPosition:"center 110px",backgroundSize:"100%"}))};function M(t){return L("LoginForm",function(n){var r=l(l({},n),{},{componentCls:".".concat(t)});return[K(r)]})}var J=["logo","message","contentStyle","title","subTitle","actions","children","containerStyle","otherStyle"];function U(t){var n,r=t.logo,i=t.message,c=t.contentStyle,s=t.title,v=t.subTitle,y=t.actions,C=t.children,T=t.containerStyle,k=t.otherStyle,o=q(t,J),w=E(),F=o.submitter===!1?!1:l(l({searchConfig:{submitText:w.getMessage("loginForm.submitText","登录")}},o.submitter),{},{submitButtonProps:l({size:"large",style:{width:"100%"}},(n=o.submitter)===null||n===void 0?void 0:n.submitButtonProps),render:function(g,P){var h,z=P.pop();if(typeof(o==null||(h=o.submitter)===null||h===void 0?void 0:h.render)=="function"){var d,x;return o==null||(d=o.submitter)===null||d===void 0||(x=d.render)===null||x===void 0?void 0:x.call(d,g,P)}return z}}),N=S.useContext(R.ConfigContext),j=N.getPrefixCls("pro-form-login"),b=M(j),B=b.wrapSSR,m=b.hashId,a=function(g){return"".concat(j,"-").concat(g," ").concat(m)},u=S.useMemo(function(){return r?typeof r=="string"?e.jsx("img",{src:r}):r:null},[r]);return B(e.jsxs("div",{className:W(a("container"),m),style:T,children:[e.jsxs("div",{className:"".concat(a("top")," ").concat(m).trim(),children:[s||u?e.jsxs("div",{className:"".concat(a("header")),children:[u?e.jsx("span",{className:a("logo"),children:u}):null,s?e.jsx("span",{className:a("title"),children:s}):null]}):null,v?e.jsx("div",{className:a("desc"),children:v}):null]}),e.jsxs("div",{className:a("main"),style:l({width:328},c),children:[e.jsxs(_,l(l({isKeyPressSubmit:!0},o),{},{submitter:F,children:[i,C]})),y?e.jsx("div",{className:a("main-other"),style:k,children:y}):null]})]}))}function G(){const[t,n]=S.useState("account"),r=e.jsx(e.Fragment,{children:e.jsx(f.Password,{name:"password",fieldProps:{size:"large",strengthText:"为了您的数据安全，请设置长度6位以上的密码!",statusRender:i=>{const s=i&&i.length>12?"ok":i&&i.length>6?"pass":"poor";return s==="pass"?e.jsx("div",{children:"强度：中"}):s==="ok"?e.jsx("div",{children:"强度：强"}):e.jsx("div",{children:" 强度：弱"})}},placeholder:"密码: 123456",rules:[{required:!0,message:"请输入密码！"}]})});return e.jsx(e.Fragment,{children:e.jsxs(U,{logo:A,title:"LoongPanel",onFinish:async i=>{fetch(D.API_URL+"/api/v1/auth/login",{method:"POST",body:JSON.stringify(i)}).then(c=>{c.status===200&&c.json().then(s=>{localStorage.setItem("SESSION",s.session),window.location.href="/"})})},children:[e.jsx(O,{centered:!0,activeKey:t,onChange:i=>n(i),items:[{key:"account",label:"账号登录"},{key:"mail",label:"邮箱登录"}]}),t==="account"&&e.jsxs(e.Fragment,{children:[e.jsx(f,{name:"username",fieldProps:{size:"large"},placeholder:"账号: admin / user",rules:[{required:!0,message:"请输入用户名!"}]}),r]}),t==="mail"&&e.jsxs(e.Fragment,{children:[e.jsx(f,{name:"email",fieldProps:{size:"large"},placeholder:"邮箱: admin@qq.com / user@qq.com",rules:[{required:!0,message:"请输入邮箱!"}]}),r]})]})})}const se=()=>e.jsx(e.Fragment,{children:e.jsx(H,{title:"登录",headerBordered:!0,style:{width:500,margin:"auto",marginTop:"10%",padding:30},children:e.jsx(G,{})})});export{se as default};
