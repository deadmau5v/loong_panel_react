import{I as i,a as l,C as p,j as e}from"./index-DCRMDEnN.js";import{r}from"./react-dom-B_KBoKIY.js";import{C as h}from"./index-DKI7GbiO.js";import{B as c}from"./button-DEnRpW9g.js";import{R as w}from"./index-CDqw0lfA.js";var x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M705.6 124.9a8 8 0 00-11.6 7.2v64.2c0 5.5 2.9 10.6 7.5 13.6a352.2 352.2 0 0162.2 49.8c32.7 32.8 58.4 70.9 76.3 113.3a355 355 0 0127.9 138.7c0 48.1-9.4 94.8-27.9 138.7a355.92 355.92 0 01-76.3 113.3 353.06 353.06 0 01-113.2 76.4c-43.8 18.6-90.5 28-138.5 28s-94.7-9.4-138.5-28a353.06 353.06 0 01-113.2-76.4A355.92 355.92 0 01184 650.4a355 355 0 01-27.9-138.7c0-48.1 9.4-94.8 27.9-138.7 17.9-42.4 43.6-80.5 76.3-113.3 19-19 39.8-35.6 62.2-49.8 4.7-2.9 7.5-8.1 7.5-13.6V132c0-6-6.3-9.8-11.6-7.2C178.5 195.2 82 339.3 80 506.3 77.2 745.1 272.5 943.5 511.2 944c239 .5 432.8-193.3 432.8-432.4 0-169.2-97-315.7-238.4-386.7zM480 560h64c4.4 0 8-3.6 8-8V88c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v464c0 4.4 3.6 8 8 8z"}}]},name:"poweroff",theme:"outlined"},g=function(o,t){return r.createElement(i,l({},o,{ref:t,icon:x}))},v=r.forwardRef(g),C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"},O=function(o,t){return r.createElement(i,l({},o,{ref:t,icon:C}))},S=r.forwardRef(O);function E(){const a=r.useContext(p),o=n=>`${a==null?void 0:a.API_URL}/api/v1/${n}`,[t,s]=r.useState(!0),f=async()=>{t&&(await fetch(o("power/shutdown"),{method:"POST",headers:{Authorization:localStorage.getItem("SESSION")||""}})).ok&&s(!1)},d=async()=>{t&&(await fetch(o("power/reboot"),{method:"POST",headers:{Authorization:localStorage.getItem("SESSION")||""}})).ok&&s(!1)},u=e.jsxs(e.Fragment,{children:[e.jsx(c,{type:"primary",onClick:f,icon:e.jsx(v,{}),children:"关机"}),e.jsx(c,{type:"primary",onClick:d,icon:e.jsx(S,{}),children:"重启"})]}),m=e.jsxs("span",{children:[e.jsx(w,{id:"loadingicon"})," ","关机中..."]});return e.jsx(e.Fragment,{children:e.jsx(h,{id:"Power",className:"card",title:"电源操作",children:t?u:m})})}export{E as default};
