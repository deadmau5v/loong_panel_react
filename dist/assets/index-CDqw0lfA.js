import{I as K,a as V,g as Y,v as J,ab as T,ac as g,ad as Q,H as E,a8 as X,k as I,x as $,a6 as Z,K as ee,ae as te,E as ne,L as oe,af as re}from"./index-DCRMDEnN.js";import{r,f as ae,b as O}from"./react-dom-B_KBoKIY.js";var se={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},ie=function(t,n){return r.createElement(K,V({},t,{ref:n,icon:se}))},We=r.forwardRef(ie),h=Y({},ae),ce=h.version,ue=h.render,le=h.unmountComponentAtNode,y;try{var de=Number((ce||"").split(".")[0]);de>=18&&(y=h.createRoot)}catch{}function L(e){var t=h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&J(t)==="object"&&(t.usingClientEntryPoint=e)}var _="__rc_react_root__";function fe(e,t){L(!0);var n=t[_]||y(t);L(!1),n.render(e),t[_]=n}function pe(e,t){ue(e,t)}function me(e,t){if(y){fe(e,t);return}pe(e,t)}function ve(e){return S.apply(this,arguments)}function S(){return S=T(g().mark(function e(t){return g().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Promise.resolve().then(function(){var a;(a=t[_])===null||a===void 0||a.unmount(),delete t[_]}));case 1:case"end":return o.stop()}},e)})),S.apply(this,arguments)}function be(e){le(e)}function he(e){return N.apply(this,arguments)}function N(){return N=T(g().mark(function e(t){return g().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(y===void 0){o.next=2;break}return o.abrupt("return",ve(t));case 2:be(t);case 3:case"end":return o.stop()}},e)})),N.apply(this,arguments)}const Re=e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${e.motionDurationSlow} ${e.motionEaseInOut}`,`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`].join(",")}}}}},ge=Q("Wave",e=>[Re(e)]),k="ant-wave-target";function Ee(e){const t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return t&&t[1]&&t[2]&&t[3]?!(t[1]===t[2]&&t[2]===t[3]):!0}function C(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&Ee(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function _e(e){const{borderTopColor:t,borderColor:n,backgroundColor:o}=getComputedStyle(e);return C(t)?t:C(n)?n:C(o)?o:null}function w(e){return Number.isNaN(e)?0:e}const ye=e=>{const{className:t,target:n,component:o}=e,a=r.useRef(null),[u,d]=r.useState(null),[f,R]=r.useState([]),[l,s]=r.useState(0),[p,m]=r.useState(0),[A,D]=r.useState(0),[B,U]=r.useState(0),[j,z]=r.useState(!1),W={left:l,top:p,width:A,height:B,borderRadius:f.map(c=>`${c}px`).join(" ")};u&&(W["--wave-color"]=u);function x(){const c=getComputedStyle(n);d(_e(n));const i=c.position==="static",{borderLeftWidth:b,borderTopWidth:v}=c;s(i?n.offsetLeft:w(-parseFloat(b))),m(i?n.offsetTop:w(-parseFloat(v))),D(n.offsetWidth),U(n.offsetHeight);const{borderTopLeftRadius:M,borderTopRightRadius:P,borderBottomLeftRadius:q,borderBottomRightRadius:H}=c;R([M,P,H,q].map(G=>w(parseFloat(G))))}if(r.useEffect(()=>{if(n){const c=E(()=>{x(),z(!0)});let i;return typeof ResizeObserver<"u"&&(i=new ResizeObserver(x),i.observe(n)),()=>{E.cancel(c),i==null||i.disconnect()}}},[]),!j)return null;const F=(o==="Checkbox"||o==="Radio")&&(n==null?void 0:n.classList.contains(k));return r.createElement(X,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(c,i)=>{var b;if(i.deadline||i.propertyName==="opacity"){const v=(b=a.current)===null||b===void 0?void 0:b.parentElement;he(v).then(()=>{v==null||v.remove()})}return!1}},c=>{let{className:i}=c;return r.createElement("div",{ref:a,className:I(t,{"wave-quick":F},i),style:W})})},Ce=(e,t)=>{var n;const{component:o}=t;if(o==="Checkbox"&&!(!((n=e.querySelector("input"))===null||n===void 0)&&n.checked))return;const a=document.createElement("div");a.style.position="absolute",a.style.left="0px",a.style.top="0px",e==null||e.insertBefore(a,e==null?void 0:e.firstChild),me(r.createElement(ye,Object.assign({},t,{target:e})),a)},we=(e,t,n)=>{const{wave:o}=r.useContext($),[,a,u]=Z(),d=ee(l=>{const s=e.current;if(o!=null&&o.disabled||!s)return;const p=s.querySelector(`.${k}`)||s,{showEffect:m}=o||{};(m||Ce)(p,{className:t,token:a,component:n,event:l,hashId:u})}),f=r.useRef();return l=>{E.cancel(f.current),f.current=E(()=>{d(l)})}},xe=e=>{const{children:t,disabled:n,component:o}=e,{getPrefixCls:a}=r.useContext($),u=r.useRef(null),d=a("wave"),[,f]=ge(d),R=we(u,I(d,f),o);if(O.useEffect(()=>{const s=u.current;if(!s||s.nodeType!==1||n)return;const p=m=>{!re(m.target)||!s.getAttribute||s.getAttribute("disabled")||s.disabled||s.className.includes("disabled")||s.className.includes("-leave")||R(m)};return s.addEventListener("click",p,!0),()=>{s.removeEventListener("click",p,!0)}},[n]),!O.isValidElement(t))return t??null;const l=te(t)?ne(t.ref,u):u;return oe(t,{ref:l})};export{We as R,k as T,xe as W,me as r,he as u};
